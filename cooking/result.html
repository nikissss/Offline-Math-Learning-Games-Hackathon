<!doctype html>
<html>

<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>Dish Result</title>
  <link rel="stylesheet" href="../css/style.css" />
  <script defer src="../js/common.js"></script>
  <script>
    function render() {
      const inv = invFor('cook');
      const n = (inv.ingredients || []).length;

      // Default dish name (fallback if none selected)
      const dish = (inv.dish || "dish").toLowerCase();

      // Decide which version to show
      let variant = "v1";
      let msg = "Basic version of your dish!";

      if (n < 5) {
        variant = "v1";
        msg = "Basic version of your " + dish + "!";
      } else if (n < 10) {
        variant = "v2";
        msg = "A nice improved " + dish + "!";
      } else if (n < 15) {
        variant = "v3";
        msg = "A delicious " + dish + "!";
      } else {
        variant = "v3"; // or make v4 if you want
        msg = "Master Chef " + dish + "!";
      }

      // Image path follows: ../assets/{dish}-{variant}.png
      const img = `../assets/${dish}-${variant}.png`;

      document.querySelector('#dish').innerHTML = `
        <div class='card center fade-in'>
          <img class='thumb' src='${img}' alt="${dish} result"/>
          <h2>${inv.dish || 'Your Dish'}</h2>
          <p class='small'>Ingredients collected: <strong>${n}</strong></p>
          <p>${msg}</p>
        </div>
      `;
    }
    document.addEventListener('DOMContentLoaded', render);
  </script>
</head>

<body>
  <div class="nav">
    <div class="inner">
      <a href="../index.html">Home</a>
      <a href="index.html">Cooking</a>
      <div style="margin-left:auto" class="kpi">ðŸ’° <strong data-wallet>0</strong> pts</div>
    </div>
  </div>

  <div class="container fade-in">
    <h1>Your Dish</h1>
    <div id="dish"></div>
  </div>
</body>

</html>